{% extends 'default.html' %}
{% load custom_filters %}
{% block title %}List of News{% endblock %}

{% block content %}
    <h1>Новости (всего {{ posts|length }})</h1>
    <ul>
        {% for post in posts %}
            <li>
                <a href="{% url 'news_detail' pk=post.pk %}">
                    <strong>{{ post.title|censor }}</strong>
                </a>
                <br>
                <small>{{ post.created_at|date:"d.m.Y" }}</small>
                <p>{{ post.content|censor|truncatewords:20 }}</p>
            </li>
        {% endfor %}
    </ul>
{% endblock %}

</body>
</html>